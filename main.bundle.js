(()=>{var e={16:e=>{"use strict";e.exports=require("url")},22:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MatcherWalker=void 0;const r=n(s(84)),o=s(740),i=s(383),a=n(s(493));function c(e,t){const s=e.sort((e,t)=>e-t).filter(e=>e>t);return s.length>0&&s[0]}t.MatcherWalker=class{cronExpression;baseDate;pattern;expressions;timeMatcher;timezone;constructor(e,t,s){this.cronExpression=e,this.baseDate=t,this.timeMatcher=new i.TimeMatcher(e,s),this.timezone=s,this.expressions=(0,r.default)(e)}isMatching(){return this.timeMatcher.match(this.baseDate)}matchNext(){const e=(()=>{const e=new Date(this.baseDate.getTime());e.setMilliseconds(0);const t=new o.LocalizedTime(e,this.timezone),s=t.getParts(),n=new o.LocalizedTime(t.toDate(),this.timezone),r=this.expressions[0],i=c(r,s.second);if(i&&(n.set("second",i),this.timeMatcher.match(n.toDate())))return n;n.set("second",r[0]);const a=this.expressions[1],u=c(a,s.minute);if(u&&(n.set("minute",u),this.timeMatcher.match(n.toDate())))return n;n.set("minute",a[0]);const d=this.expressions[2],l=c(d,s.hour);if(l&&(n.set("hour",l),this.timeMatcher.match(n.toDate())))return n;n.set("hour",d[0]);const h=this.expressions[3],m=c(h,s.day);if(m&&(n.set("day",m),this.timeMatcher.match(n.toDate())))return n;n.set("day",h[0]);const p=this.expressions[4],f=c(p,s.month);return f&&(n.set("month",f),this.timeMatcher.match(n.toDate()))||(n.set("year",n.getParts().year+1),n.set("month",p[0])),n})(),t=this.expressions[5];let s=parseInt((0,a.default)(e.getParts().weekday));for(;!(t.indexOf(s)>-1);)e.set("year",e.getParts().year+1),s=parseInt((0,a.default)(e.getParts().weekday));return e}}},35:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StateMachine=void 0;const s={stopped:["stopped","idle","destroyed"],idle:["idle","running","stopped","destroyed"],running:["running","idle","stopped","destroyed"],destroyed:["destroyed"]};t.StateMachine=class{state;constructor(e="stopped"){this.state=e}changeState(e){if(!s[this.state].includes(e))throw new Error(`invalid transition from ${this.state} to ${e}`);this.state=e}}},56:e=>{"use strict";e.exports=JSON.parse('{"name":"dotenv","version":"17.2.3","description":"Loads environment variables from .env file","main":"lib/main.js","types":"lib/main.d.ts","exports":{".":{"types":"./lib/main.d.ts","require":"./lib/main.js","default":"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},"scripts":{"dts-check":"tsc --project tests/types/tsconfig.json","lint":"standard","pretest":"npm run lint && npm run dts-check","test":"tap run tests/**/*.js --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run tests/**/*.js --show-full-coverage --timeout=60000 --coverage-report=text --coverage-report=lcov","prerelease":"npm test","release":"standard-version"},"repository":{"type":"git","url":"git://github.com/motdotla/dotenv.git"},"homepage":"https://github.com/motdotla/dotenv#readme","funding":"https://dotenvx.com","keywords":["dotenv","env",".env","environment","variables","config","settings"],"readmeFilename":"README.md","license":"BSD-2-Clause","devDependencies":{"@types/node":"^18.11.3","decache":"^4.6.2","sinon":"^14.0.1","standard":"^17.0.0","standard-version":"^9.5.0","tap":"^19.2.0","typescript":"^4.8.4"},"engines":{"node":">=12"},"browser":{"fs":false}}')},84:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(s(472)),o=n(s(493)),i=n(s(499)),a=n(s(546));t.default=function(e){let t=(s=`${e}`,s.replace(/\s{2,}/g," ").trim()).split(" ");var s;return t=function(e){return 5===e.length?["0"].concat(e):e}(t),t[4]=(0,r.default)(t[4]),t[5]=(0,o.default)(t[5]),t=(0,i.default)(t),t=(0,a.default)(t),t=function(e){for(let t=0;t<e.length;t++){const s=e[t].split(",");for(let e=0;e<s.length;e++)s[e]=parseInt(s[e]);e[t]=s}return e}(t),t}},145:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createID=function(e="",t=16){const s=r.default.randomBytes(t),n=Array.from(s,e=>"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[e%62]).join("");return e?`${e}-${n}`:n};const r=n(s(598))},157:e=>{"use strict";e.exports=require("electron")},180:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TaskRegistry=void 0;const s=new Map;t.TaskRegistry=class{add(e){if(this.has(e.id))throw Error(`task ${e.id} already registred!`);s.set(e.id,e),e.on("task:destroyed",()=>{this.remove(e)})}get(e){return s.get(e)}remove(e){this.has(e.id)&&(e?.destroy(),s.delete(e.id))}all(){return s}has(e){return s.has(e)}killAll(){s.forEach(e=>this.remove(e))}}},203:e=>{"use strict";e.exports=require("stream")},281:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=s(928),o=s(317),i=s(145),a=s(203),c=s(35),u=s(740),d=n(s(819)),l=s(383),h=(0,r.resolve)(__dirname,"daemon.js");class m extends a.EventEmitter{}t.default=class{emitter;id;name;cronExpression;taskPath;options;forkProcess;stateMachine;constructor(e,t,s){this.cronExpression=e,this.taskPath=t,this.options=s,this.id=(0,i.createID)("task"),this.name=s?.name||this.id,this.emitter=new m,this.stateMachine=new c.StateMachine("stopped"),this.on("task:stopped",()=>{this.forkProcess?.kill(),this.forkProcess=void 0,this.stateMachine.changeState("stopped")}),this.on("task:destroyed",()=>{this.forkProcess?.kill(),this.forkProcess=void 0,this.stateMachine.changeState("destroyed")})}getNextRun(){return"stopped"!==this.stateMachine.state?new l.TimeMatcher(this.cronExpression,this.options?.timezone).getNextMatch(new Date):null}start(){return new Promise((e,t)=>{if(this.forkProcess)return e(void 0);const s=setTimeout(()=>{t(new Error("Start operation timed out"))},5e3);try{this.forkProcess=(0,o.fork)(h),this.forkProcess.on("error",e=>{clearTimeout(s),t(new Error(`Error on daemon: ${e.message}`))}),this.forkProcess.on("exit",(e,n)=>{if(0!==e&&"SIGTERM"!==n){const r=new Error(`node-cron daemon exited with code ${e||n}`);d.default.error(r),clearTimeout(s),t(r)}}),this.forkProcess.on("message",e=>{if(e.jsonError&&e.context?.execution&&(e.context.execution.error=function(e){const t=JSON.parse(e),s=new(globalThis[t.name]||Error)(t.message);return t.stack&&(s.stack=t.stack),Object.keys(t).forEach(e=>{["name","message","stack"].includes(e)||(s[e]=t[e])}),s}(e.jsonError),delete e.jsonError),e.context?.task?.state&&this.stateMachine.changeState(e.context?.task?.state),e.context){const t=e.context?.execution;delete t?.hasError;const s=this.createContext(new Date(e.context.date),t);this.emitter.emit(e.event,s)}}),this.once("task:started",()=>{this.stateMachine.changeState("idle"),clearTimeout(s),e(void 0)}),this.forkProcess.send({command:"task:start",path:this.taskPath,cron:this.cronExpression,options:this.options})}catch(e){t(e)}})}stop(){return new Promise((e,t)=>{if(!this.forkProcess)return e(void 0);const s=setTimeout(()=>{clearTimeout(s),t(new Error("Stop operation timed out"))},5e3),n=()=>{clearTimeout(s),this.off("task:stopped",r),this.forkProcess=void 0,e(void 0)},r=()=>{n()};this.once("task:stopped",r),this.forkProcess.send({command:"task:stop"})})}getStatus(){return this.stateMachine.state}destroy(){return new Promise((e,t)=>{if(!this.forkProcess)return e(void 0);const s=setTimeout(()=>{clearTimeout(s),t(new Error("Destroy operation timed out"))},5e3),n=()=>{clearTimeout(s),this.off("task:destroyed",n),e(void 0)};this.once("task:destroyed",n),this.forkProcess.send({command:"task:destroy"})})}execute(){return new Promise((e,t)=>{if(!this.forkProcess)return t(new Error("Cannot execute background task because it hasn't been started yet. Please initialize the task using the start() method before attempting to execute it."));const s=setTimeout(()=>{n(),t(new Error("Execution timeout exceeded"))},5e3),n=()=>{clearTimeout(s),this.off("execution:finished",r),this.off("execution:failed",o)},r=t=>{n(),e(t.execution?.result)},o=e=>{n(),t(e.execution?.error||new Error("Execution failed without specific error"))};this.once("execution:finished",r),this.once("execution:failed",o),this.forkProcess.send({command:"task:execute"})})}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}once(e,t){this.emitter.once(e,t)}createContext(e,t){const s=new u.LocalizedTime(e,this.options?.timezone);return{date:s.toDate(),dateLocalIso:s.toISO(),triggeredAt:new Date,task:this,execution:t}}}},290:e=>{e.exports={getColumnTemplates:()=>({todo:{ColumnId:Date.now().toString(),Type:"todo",Name:"Todo List",Description:"Todo list created on backend",EmojiIcon:"ListTodo",NameVisible:!0,Chosen:{global:[]},Options:["Option 1","Option 2"],TagColors:{"Option 1":"blue","Option 2":"green"},Width:150},checkbox:{ColumnId:Date.now().toString(),Type:"checkbox",Name:"New Checkbox",Description:"Checkbox created on backend",EmojiIcon:"Star",NameVisible:!1,Chosen:{Monday:!1,Tuesday:!1,Wednesday:!1,Thursday:!1,Friday:!1,Saturday:!1,Sunday:!1},Width:50,CheckboxColor:"green"},numberbox:{ColumnId:Date.now().toString(),Type:"numberbox",Name:"New Numberbox",Description:"Numberbox created on backend",EmojiIcon:"Star",NameVisible:!1,Chosen:{Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sunday:""},Width:60},text:{ColumnId:Date.now().toString(),Type:"text",Name:"New Text",Description:"Text created on backend",EmojiIcon:"Star",NameVisible:!0,Chosen:{Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sunday:""},Width:130},multiSelect:{ColumnId:Date.now().toString(),Type:"multi-select",Name:"New Multi-Select",Description:"Multi-select created on backend",EmojiIcon:"Star",NameVisible:!0,Options:["Option 1","Option 2"],TagColors:{"Option 1":"blue","Option 2":"green"},Chosen:{Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sunday:""},Width:90},multicheckbox:{ColumnId:Date.now().toString(),Type:"multicheckbox",Name:"New Multi Checkbox",Description:"Multi-checkbox created on backend",EmojiIcon:"Circle",NameVisible:!1,Options:["Task 1","Task 2"],TagColors:{"Task 1":"blue","Task 2":"green"},Chosen:{Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sunday:""},Width:50},tasktable:{ColumnId:Date.now().toString(),Type:"tasktable",Name:"New Task List",Description:"Task table created on backend",EmojiIcon:"ListTodo",NameVisible:!0,Options:["Task 1","Task 2"],TagColors:{"Task 1":"blue","Task 2":"green"},Chosen:{global:[]},Width:150}}),getSettingsTemplates:()=>({theme:{darkMode:!1,accentColor:"blue",autoThemeSettings:{enabled:!1,startTime:"08:00",endTime:"20:00"}},table:{columnOrder:[],showSummaryRow:!1,compactMode:!1,stickyHeader:!0},ui:{animations:!0,tooltips:!0,confirmDelete:!0}})}},299:(e,t,s)=>{const n=s(928),{getData:r,saveData:o}=s(810),i=n.join(__dirname,"../userData/data.json"),{getColumnTemplates:a}=s(290);e.exports={init(e){e.handle("save-data",async(e,t)=>(await o(i,t),{status:"Data saved!"})),e.handle("get-time",()=>({time:(new Date).toISOString()})),e.handle("get-table-data",async()=>{try{return{status:"Data fetched",data:await r(i)}}catch(e){return{status:"Error parsing data",error:e.message}}}),e.handle("column-change",async(e,t)=>{const s=await r(i),n=s.findIndex(e=>e.ColumnId===t.ColumnId);return-1===n?{status:"Column not found"}:(s[n]=t,await o(i,s),{status:"Column updated",data:t})}),e.handle("create-component",async(e,t)=>{const s=a();if(!s[t])return{status:"Invalid type",error:`No template for type "${t}"`};const n=s[t];let c;try{c=await r(i)}catch(e){return{status:"Error parsing file",error:e.message}}return c.push(n),await o(i,c),{status:"Success",data:n}}),e.handle("delete-component",async(e,t)=>{let s;try{s=await r(i)}catch(e){return{status:"Error parsing data",error:e.message}}const n=s.length;return s=s.filter(e=>e.ColumnId!==t),s.length===n?{status:"Component not found",columnId:t}:(await o(i,s),{status:"Component deleted",columnId:t})}),e.handle("collect-metrics",()=>{const e=process.memoryUsage(),t=process.cpuUsage();return{rss:e.rss,heapUsed:e.heapUsed,heapTotal:e.heapTotal,cpuUser:t.user,cpuSystem:t.system}})}}},311:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Runner=void 0;const r=s(145),o=n(s(819)),i=s(803);function a(){}function c(){return!0}function u(e,t){o.default.error("Task failed with error!",t)}async function d(e,t,s){try{await e(t)}catch(e){s(t,e)}}function l(e,t){const s=864e5,n=e.getNextMatch(t),r=new Date,o=n.getTime()-r.getTime();return o>s?s:Math.max(0,o)}function h(){const e=new Date;return e.setMilliseconds(0),e}t.Runner=class{timeMatcher;onMatch;noOverlap;maxExecutions;maxRandomDelay;runCount;running;heartBeatTimeout;onMissedExecution;onOverlap;onError;beforeRun;onFinished;onMaxExecutions;constructor(e,t,s){this.timeMatcher=e,this.onMatch=t,this.noOverlap=null!=s&&void 0!==s.noOverlap&&s.noOverlap,this.maxExecutions=s?.maxExecutions,this.maxRandomDelay=s?.maxRandomDelay||0,this.onMissedExecution=s?.onMissedExecution||a,this.onOverlap=s?.onOverlap||a,this.onError=s?.onError||u,this.onFinished=s?.onFinished||c,this.beforeRun=s?.beforeRun||c,this.onMaxExecutions=s?.onMaxExecutions||a,this.runCount=0,this.running=!1}start(){let e,t;this.running=!0;const s=e=>{this.running&&(clearTimeout(this.heartBeatTimeout),this.heartBeatTimeout=setTimeout(c,l(this.timeMatcher,e)))},n=e=>new Promise(async t=>{const s={id:(0,r.createID)("exec"),reason:"scheduled"},n=await this.beforeRun(e,s),o=Math.floor(Math.random()*this.maxRandomDelay);n&&setTimeout(async()=>{try{this.runCount++,s.startedAt=new Date;const t=await this.onMatch(e,s);s.finishedAt=new Date,s.result=t,this.onFinished(e,s),this.maxExecutions&&this.runCount>=this.maxExecutions&&(this.onMaxExecutions(e),this.stop())}catch(t){s.finishedAt=new Date,s.error=t,this.onError(e,t,s)}t(!0)},o)}),a=e=>new i.TrackedPromise(async(t,s)=>{try{this.timeMatcher.match(e)&&await n(e),t(!0)}catch(e){s(e)}}),c=async()=>{const n=h();if(t&&t.getTime()<n.getTime())for(;t.getTime()<n.getTime();)o.default.warn(`missed execution at ${t}! Possible blocking IO or high CPU user at the same process used by node-cron.`),t=this.timeMatcher.getNextMatch(t),d(this.onMissedExecution,t,u);if(e&&"pending"===e.getState()&&(d(this.onOverlap,n,u),this.noOverlap))return o.default.warn("task still running, new execution blocked by overlap prevention!"),t=this.timeMatcher.getNextMatch(n),void s(n);e=a(n),t=this.timeMatcher.getNextMatch(n),s(n)};this.heartBeatTimeout=setTimeout(()=>{c()},l(this.timeMatcher,h()))}nextRun(){return this.timeMatcher.getNextMatch(new Date)}stop(){this.running=!1,this.heartBeatTimeout&&(clearTimeout(this.heartBeatTimeout),this.heartBeatTimeout=void 0)}isStarted(){return!!this.heartBeatTimeout&&this.running}isStopped(){return!this.isStarted()}async execute(){const e=new Date,t={id:(0,r.createID)("exec"),reason:"invoked"};try{if(await this.beforeRun(e,t)){this.runCount++,t.startedAt=new Date;const s=await this.onMatch(e,t);t.finishedAt=new Date,t.result=s,this.onFinished(e,t)}}catch(s){t.finishedAt=new Date,t.error=s,this.onError(e,s,t)}}}},317:e=>{"use strict";e.exports=require("child_process")},383:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TimeMatcher=void 0;const r=n(s(84)),o=n(s(493)),i=s(740),a=s(22);function c(e,t){return-1!==e.indexOf(t)}t.TimeMatcher=class{timezone;pattern;expressions;constructor(e,t){this.timezone=t,this.pattern=e,this.expressions=(0,r.default)(e)}match(e){const t=new i.LocalizedTime(e,this.timezone).getParts(),s=c(this.expressions[0],t.second),n=c(this.expressions[1],t.minute),r=c(this.expressions[2],t.hour),a=c(this.expressions[3],t.day),u=c(this.expressions[4],t.month),d=c(this.expressions[5],parseInt((0,o.default)(t.weekday)));return s&&n&&r&&a&&u&&d}getNextMatch(e){return new a.MatcherWalker(this.pattern,e,this.timezone).matchNext().toDate()}}},434:e=>{"use strict";e.exports=require("events")},445:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InlineScheduledTask=void 0;const r=n(s(434)),o=s(311),i=s(383),a=s(145),c=s(35),u=n(s(819)),d=s(740);class l extends r.default{}t.InlineScheduledTask=class{emitter;cronExpression;timeMatcher;runner;id;name;stateMachine;timezone;constructor(e,t,s){this.emitter=new l,this.cronExpression=e,this.id=(0,a.createID)("task",12),this.name=s?.name||this.id,this.timezone=s?.timezone,this.timeMatcher=new i.TimeMatcher(e,s?.timezone),this.stateMachine=new c.StateMachine;const n={timezone:s?.timezone,noOverlap:s?.noOverlap,maxExecutions:s?.maxExecutions,maxRandomDelay:s?.maxRandomDelay,beforeRun:(e,t)=>("scheduled"===t.reason&&this.changeState("running"),this.emitter.emit("execution:started",this.createContext(e,t)),!0),onFinished:(e,t)=>("scheduled"===t.reason&&this.changeState("idle"),this.emitter.emit("execution:finished",this.createContext(e,t)),!0),onError:(e,t,s)=>{u.default.error(t),this.emitter.emit("execution:failed",this.createContext(e,s)),this.changeState("idle")},onOverlap:e=>{this.emitter.emit("execution:overlap",this.createContext(e))},onMissedExecution:e=>{this.emitter.emit("execution:missed",this.createContext(e))},onMaxExecutions:e=>{this.emitter.emit("execution:maxReached",this.createContext(e)),this.destroy()}};this.runner=new o.Runner(this.timeMatcher,(e,s)=>t(this.createContext(e,s)),n)}getNextRun(){return"stopped"!==this.stateMachine.state?this.runner.nextRun():null}changeState(e){this.runner.isStarted()&&this.stateMachine.changeState(e)}start(){this.runner.isStopped()&&(this.runner.start(),this.stateMachine.changeState("idle"),this.emitter.emit("task:started",this.createContext(new Date)))}stop(){this.runner.isStarted()&&(this.runner.stop(),this.stateMachine.changeState("stopped"),this.emitter.emit("task:stopped",this.createContext(new Date)))}getStatus(){return this.stateMachine.state}destroy(){"destroyed"!==this.stateMachine.state&&(this.stop(),this.stateMachine.changeState("destroyed"),this.emitter.emit("task:destroyed",this.createContext(new Date)))}execute(){return new Promise((e,t)=>{const s=e=>{this.off("execution:finished",s),t(e.execution?.error)};this.once("execution:finished",t=>{this.off("execution:failed",s),e(t.execution?.result)}),this.once("execution:failed",s),this.runner.execute()})}on(e,t){this.emitter.on(e,t)}off(e,t){this.emitter.off(e,t)}once(e,t){this.emitter.once(e,t)}createContext(e,t){const s=new d.LocalizedTime(e,this.timezone);return{date:s.toDate(),dateLocalIso:s.toISO(),triggeredAt:new Date,task:this,execution:t}}}},472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(()=>{const e=["january","february","march","april","may","june","july","august","september","october","november","december"],t=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"];function s(e,t){for(let s=0;s<t.length;s++)e=e.replace(new RegExp(t[s],"gi"),s+1);return e}return function(n){return n=s(n,e),s(n,t)}})()},493:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(()=>{const e=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],t=["sun","mon","tue","wed","thu","fri","sat"];function s(e,t){for(let s=0;s<t.length;s++)e=e.replace(new RegExp(t[s],"gi"),s);return e}return function(n){return n=s(n=n.replace("7","0"),e),s(n,t)}})()},499:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(()=>{function e(e,t){return-1!==e.indexOf("*")?e.replace("*",t):e}return function(t){return t[0]=e(t[0],"0-59"),t[1]=e(t[1],"0-59"),t[2]=e(t[2],"0-23"),t[3]=e(t[3],"1-31"),t[4]=e(t[4],"1-12"),t[5]=e(t[5],"0-6"),t}})()},546:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(()=>{function e(e,t,s,n,r){const o=parseInt(r),i=[];let a=parseInt(n),c=parseInt(s);c>a&&(a=parseInt(s),c=parseInt(n));for(let e=c;e<=a;e+=o)i.push(e);return e.replace(new RegExp(t,"i"),i.join())}function t(t){const s=/(\d+)-(\d+)(\/(\d+)|)/;let n=s.exec(t);for(;null!==n&&n.length>0;)t=e(t,n[0],n[1],n[2],n[4]||"1"),n=s.exec(t);return t}return function(e){for(let s=0;s<e.length;s++)e[s]=t(e[s]);return e}})()},598:e=>{"use strict";e.exports=require("node:crypto")},672:(e,t,s)=>{const{app:n,Notification:r,dialog:o}=s(157),i=s(928),a=i.join(__dirname,"../userData/data.json"),c=i.join(__dirname,"../userData/calendar.json"),u=i.join(__dirname,"../userData/settings.json"),{getSettingsTemplates:d}=s(290),{saveData:l,getData:h}=s(810),{updateThemeBasedOnTime:m}=s(922),p=(e,t)=>({status:t,error:e.message});e.exports={init(e){e.handle("switch-theme",async(e,t)=>{try{const e=await h(u,()=>d());return e.theme.darkMode=t,await l(u,e,()=>d()),{status:"Theme switched",darkMode:t}}catch(e){return p(e,"Error parsing settings")}}),e.handle("get-theme",async()=>{try{return{status:"Theme fetched",darkMode:(await h(u,()=>d())).theme.darkMode}}catch(e){return p(e,"Error parsing settings")}}),e.handle("get-cell-settings",async()=>{try{return{status:"Cell settings fetched",cellSettings:(await h(u,()=>d())).theme.cellSettings||{}}}catch(e){return p(e,"Error parsing settings")}}),e.handle("get-settings",async()=>{try{return{status:"Settings fetched",data:await h(u,()=>d())}}catch(e){return p(e,"Error parsing settings")}}),e.handle("update-settings",async(e,t)=>{try{return await l(u,t,()=>d()),{status:"Settings updated"}}catch(e){return p(e,"Error updating settings")}}),e.handle("update-theme",async(e,t)=>{try{const e=await h(u,()=>d());return e.theme={...e.theme,...t},await l(u,e,()=>d()),m(),{status:"Theme updated"}}catch(e){return p(e,"Error updating theme")}}),e.handle("update-table-settings",async(e,t)=>{try{const e=await h(u,()=>d());return e.table={...e.table,...t},await l(u,e,()=>d()),{status:"Table settings updated"}}catch(e){return p(e,"Error updating table settings")}}),e.handle("update-ui-settings",async(e,t)=>{try{const e=await h(u,()=>d());return e.ui={...e.ui,...t},await l(u,e,()=>d()),{status:"UI settings updated"}}catch(e){return p(e,"Error updating UI settings")}}),e.handle("update-column-order",async(e,t)=>{try{const e=await h(u,()=>d());return e.table.columnOrder=t,await l(u,e,()=>d()),{status:"Column order updated"}}catch(e){return p(e,"Error updating column order")}}),e.handle("show-notification",(e,{title:t,body:s})=>{new r({title:t,body:s}).show()}),e.handle("export-data",async()=>{try{const[e,t,s]=await Promise.all([h(a),h(c),h(u,()=>d())]),r={data:e,calendar:t,settings:s},{filePath:m}=await o.showSaveDialog({title:"Data export",defaultPath:i.join(n.getPath("documents"),"onda-data.json"),filters:[{name:"JSON Files",extensions:["json"]}]});return m?(await l(m,r),{status:"Data exported",filePath:m}):{status:"Export cancelled"}}catch(e){return console.error("Error exporting data:",e),p(e,"Export failed")}}),e.handle("import-data",async()=>{try{const{filePaths:e}=await o.showOpenDialog({title:"Data import",defaultPath:n.getPath("documents"),filters:[{name:"JSON Files",extensions:["json"]}],properties:["openFile"]});if(!e||0===e.length)return{status:"Import cancelled"};const t=await h(e[0]);return t.data&&await l(a,t.data),t.calendar&&await l(c,t.calendar),t.settings&&await l(u,t.settings,()=>d()),{status:"Data imported"}}catch(e){return console.error("Error importing data:",e),p(e,"Import failed")}})}}},735:(e,t,s)=>{const n=s(928),{saveData:r,getData:o}=s(810),i=n.join(__dirname,"../userData/calendar.json");e.exports={init(e){e.handle("calendar-get-events",async()=>{try{return{status:"success",data:(await o(i)).map(e=>({...e,isRepeating:e.isRepeating??!1,repeatDays:e.repeatDays??[],repeatFrequency:e.repeatFrequency??"weekly"}))}}catch(e){return{status:"error",error:e.message}}}),e.handle("calendar-save-event",async(e,t)=>{try{let e=await o(i);const s={...t,isRepeating:t.isRepeating??!1,repeatDays:t.isRepeating&&Array.isArray(t.repeatDays)?t.repeatDays:[],repeatFrequency:t.isRepeating&&t.repeatFrequency||"weekly"},n=e.findIndex(e=>e.id===t.id);return-1!==n?e[n]=s:e.push({...s,id:t.id||Date.now().toString()}),await r(i,e),{status:"success",data:s}}catch(e){return{status:"error",error:e.message}}}),e.handle("calendar-delete-event",async(e,t)=>{try{let e=await o(i);const s=e.length;return e=e.filter(e=>e.id!==t),e.length===s?{status:"error",message:"Event not found"}:(await r(i,e),{status:"success",message:"Event deleted",eventId:t})}catch(e){return{status:"error",error:e.message}}}),e.handle("calendar-get-time",async()=>({status:"success",time:(new Date).toISOString()}))}}},740:(e,t)=>{"use strict";function s(e,t){const s={year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",hour12:!1};t&&(s.timeZone=t);const r=new Intl.DateTimeFormat("en-US",s).formatToParts(e).filter(e=>"literal"!==e.type).reduce((e,t)=>(e[t.type]=t.value,e),{});return{day:parseInt(r.day),month:parseInt(r.month),year:parseInt(r.year),hour:"24"===r.hour?0:parseInt(r.hour),minute:parseInt(r.minute),second:parseInt(r.second),milisecond:e.getMilliseconds(),weekday:r.weekday,gmt:n(e,t)}}function n(e,t){const s=new Date(e.toLocaleString("en-US",{timeZone:"UTC"})),n=new Date(e.toLocaleString("en-US",{timeZone:t}));let r=(s.getTime()-n.getTime())/6e4;const o=r<=0?"+":"-";return r=Math.abs(r),0===r?"Z":`GMT${o}${Math.floor(r/60).toString().padStart(2,"0")}:${Math.floor(r%60).toString().padStart(2,"0")}`}Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizedTime=void 0,t.LocalizedTime=class{timestamp;parts;timezone;constructor(e,t){this.timestamp=e.getTime(),this.timezone=t,this.parts=s(e,t)}toDate(){return new Date(this.timestamp)}toISO(){const e=this.parts.gmt.replace(/^GMT/,"")||"Z",t=e=>String(e).padStart(2,"0");return`${this.parts.year}-${t(this.parts.month)}-${t(this.parts.day)}T${t(this.parts.hour)}:${t(this.parts.minute)}:${t(this.parts.second)}.${String(this.parts.milisecond).padStart(3,"0")}`+e}getParts(){return this.parts}set(e,t){this.parts[e]=t;const n=new Date(this.toISO());this.timestamp=n.getTime(),this.parts=s(n,this.timezone)}}},769:e=>{e.exports={init(e,t){e.handle("window-close",()=>{t.hide()}),e.handle("window-minimize",()=>{t.minimize()}),e.handle("window-maximize",()=>{t.isMaximized()?t.restore():t.maximize()}),e.on("next-tab",()=>{t.webContents.send("next-tab")})}}},803:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TrackedPromise=void 0,t.TrackedPromise=class{promise;error;state;value;constructor(e){this.state="pending",this.promise=new Promise((t,s)=>{e(e=>{this.state="fulfilled",this.value=e,t(e)},e=>{this.state="rejected",this.error=e,s(e)})})}getPromise(){return this.promise}getState(){return this.state}isPending(){return"pending"===this.state}isFulfilled(){return"fulfilled"===this.state}isRejected(){return"rejected"===this.state}getValue(){return this.value}getError(){return this.error}then(e,t){return this.promise.then(e,t)}catch(e){return this.promise.catch(e)}finally(e){return this.promise.finally(e)}}},810:(e,t,s)=>{const n=s(896),r=(e,t)=>{if(n.existsSync(e))console.log(`File ${e} exists`);else{const s=t?t():[];n.writeFileSync(e,JSON.stringify(s,null,2)),console.log(`File ${e} created`)}};e.exports={ensureDataFileExists:r,getData:async(e,t=()=>[])=>{try{r(e,t);const s=await n.promises.readFile(e,"utf8");return JSON.parse(s)}catch(s){return console.error(`Помилка при читанні файлу ${e}:`,s),Array.isArray(t?.())?[]:null}},saveData:async(e,t,s=()=>[])=>{try{return r(e,s),await n.promises.writeFile(e,JSON.stringify(t,null,2)),!0}catch(e){return console.error("Помилка при збереженні даних:",e),!1}}}},819:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s={INFO:"[36m",WARN:"[33m",ERROR:"[31m",DEBUG:"[35m"},n="[32m";function r(e,t,r){const o=(new Date).toISOString(),i=s[e]??"",a=`[${o}] [PID: ${process.pid}] ${n}[NODE-CRON]${n} ${i}[${e}][0m ${t}`;switch(e){case"ERROR":console.error(a,r??"");break;case"DEBUG":console.debug(a,r??"");break;case"WARN":console.warn(a);break;default:console.info(a)}}const o={info(e){r("INFO",e)},warn(e){r("WARN",e)},error(e,t){e instanceof Error?r("ERROR",e.message,e):r("ERROR",e,t)},debug(e,t){e instanceof Error?r("DEBUG",e.message,e):r("DEBUG",e,t)}};t.default=o},857:e=>{"use strict";e.exports=require("os")},896:e=>{"use strict";e.exports=require("fs")},908:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.nodeCron=t.getTask=t.getTasks=void 0,t.schedule=l,t.createTask=h,t.solvePath=m,t.validate=p;const r=s(445),o=s(180),i=n(s(980)),a=n(s(281)),c=n(s(928)),u=s(16),d=new o.TaskRegistry;function l(e,t,s){const n=h(e,t,s);return n.start(),n}function h(e,t,s){let n;if(t instanceof Function)n=new r.InlineScheduledTask(e,t,s);else{const r=m(t);n=new a.default(e,r,s)}return d.add(n),n}function m(e){if(c.default.isAbsolute(e))return(0,u.pathToFileURL)(e).href;if(e.startsWith("file://"))return e;const t=(new Error).stack?.split("\n");if(t){t?.shift();const s=t?.find(e=>-1===e.indexOf(__filename)),n=s?.match(/(file:\/\/)?(((\/?)(\w:))?([/\\].+)):\d+:\d+/);if(n){const t=`${n[5]??""}${c.default.dirname(n[6])}`;return(0,u.pathToFileURL)(c.default.resolve(t,e)).href}}throw new Error(`Could not locate task file ${e}`)}function p(e){try{return(0,i.default)(e),!0}catch(e){return!1}}t.getTasks=d.all,t.getTask=d.get,t.nodeCron={schedule:l,createTask:h,validate:p,getTasks:t.getTasks,getTask:t.getTask},t.default=t.nodeCron},922:(e,t,s)=>{const n=s(896),r=s(928).join(__dirname,"../userData/settings.json");e.exports={updateThemeBasedOnTime:function(){const e=n.readFileSync(r,"utf8"),t=JSON.parse(e);if(t.theme.autoThemeSettings.enabled){const e=(new Date).getHours(),s=t.theme.autoThemeSettings.startTime,o=t.theme.autoThemeSettings.endTime,i=parseInt(s.split(":")[0],10),a=parseInt(o.split(":")[0],10),c=e<=i&&e>a;t.theme.darkMode!==c&&(t.theme.darkMode=c,n.writeFileSync(r,JSON.stringify(t,null,2)),console.log(`Theme changed to ${c?"dark":"light"} mode`))}}}},924:(e,t,s)=>{const n=s(908),r=s(896),o=s(928),{Notification:i}=s(157),a=o.join(__dirname,"../userData/settings.json"),c=o.join(__dirname,"../userData/calendar.json"),{updateThemeBasedOnTime:u}=s(922);e.exports={initCronJobs:function(){u();const e=r.readFileSync(a,"utf8"),t=JSON.parse(e);if(t.theme?.autoThemeSettings?.enabled){const[e,s]=t.theme.autoThemeSettings.startTime.split(":").map(Number),[r,o]=t.theme.autoThemeSettings.endTime.split(":").map(Number);n.schedule(`${s} ${e} * * *`,()=>{u()}),n.schedule(`${o} ${r} * * *`,()=>{u()})}n.schedule("* * * * *",()=>{try{const e=r.readFileSync(c,"utf8"),s=JSON.parse(e),n=new Date,a=n.getDay();if(!t.calendar?.notifications)return;s.forEach(e=>{let t;if(e.isRepeating&&e.repeatDays.includes(a)){const[s,r]=e.startTime.split(":").map(Number);t=new Date(n),t.setHours(s,r,0,0)}else{if(!e.date)return;{const[s,n]=e.startTime.split(":").map(Number);t=new Date(`${e.date} ${s}:${n}:00`)}}const s=(t-n)/6e4;if(s>9&&s<=10){const t=new i({title:"Нагадування про подію",body:`Подія "${e.title}" розпочнеться о ${e.startTime} (${e.date||"сьогодні"})`,icon:o.join(__dirname,"../assets/onda-logo.ico")});t.show(),t.on("click",()=>{global.mainWindow&&global.mainWindow.focus()})}})}catch(e){console.error("Error checking events for notifications:",e)}})}}},928:e=>{"use strict";e.exports=require("path")},980:function(e,t,s){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=n(s(84)),o=/^(?:\d+|\*|\*\/\d+)$/;function i(e,t,s){const n=e;for(const e of n){const n=parseInt(e,10);if(!Number.isNaN(n)&&(n<t||n>s)||!o.test(e))return!1}return!0}t.default=function(e){if("string"!=typeof e)throw new TypeError("pattern must be a string!");const t=e.split(" "),s=(0,r.default)(e);5===t.length&&t.unshift("0"),function(e,t){if(!i(t[0],0,59))throw new Error(`${e[0]} is a invalid expression for second`);if(!i(t[1],0,59))throw new Error(`${e[1]} is a invalid expression for minute`);if(s=t[2],!i(s,0,23))throw new Error(`${e[2]} is a invalid expression for hour`);var s;if(function(e){return!i(e,1,31)}(t[3]))throw new Error(`${e[3]} is a invalid expression for day of month`);if(function(e){return!i(e,1,12)}(t[4]))throw new Error(`${e[4]} is a invalid expression for month`);if(function(e){return!i(e,0,7)}(t[5]))throw new Error(`${e[5]} is a invalid expression for week day`)}(t,s)}},982:e=>{"use strict";e.exports=require("crypto")},998:(e,t,s)=>{const n=s(896),r=s(928),o=s(857),i=s(982),a=s(56).version,c=["🔐 encrypt with Dotenvx: https://dotenvx.com","🔐 prevent committing .env to code: https://dotenvx.com/precommit","🔐 prevent building .env in docker: https://dotenvx.com/prebuild","📡 add observability to secrets: https://dotenvx.com/ops","👥 sync secrets across teammates & machines: https://dotenvx.com/ops","🗂️ backup and recover secrets: https://dotenvx.com/ops","✅ audit secrets and track compliance: https://dotenvx.com/ops","🔄 add secrets lifecycle management: https://dotenvx.com/ops","🔑 add access controls to secrets: https://dotenvx.com/ops","🛠️  run anywhere with `dotenvx run -- yourcommand`","⚙️  specify custom .env file path with { path: '/custom/path/.env' }","⚙️  enable debug logging with { debug: true }","⚙️  override existing env vars with { override: true }","⚙️  suppress all logs with { quiet: true }","⚙️  write to custom object with { processEnv: myObject }","⚙️  load multiple .env files with { path: ['.env.local', '.env'] }"];function u(e){return"string"==typeof e?!["false","0","no","off",""].includes(e.toLowerCase()):Boolean(e)}const d=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/gm;function l(e){console.log(`[dotenv@${a}][DEBUG] ${e}`)}function h(e){console.log(`[dotenv@${a}] ${e}`)}function m(e){return e&&e.DOTENV_KEY&&e.DOTENV_KEY.length>0?e.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function p(e,t){let s;try{s=new URL(t)}catch(e){if("ERR_INVALID_URL"===e.code){const e=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw e.code="INVALID_DOTENV_KEY",e}throw e}const n=s.password;if(!n){const e=new Error("INVALID_DOTENV_KEY: Missing key part");throw e.code="INVALID_DOTENV_KEY",e}const r=s.searchParams.get("environment");if(!r){const e=new Error("INVALID_DOTENV_KEY: Missing environment part");throw e.code="INVALID_DOTENV_KEY",e}const o=`DOTENV_VAULT_${r.toUpperCase()}`,i=e.parsed[o];if(!i){const e=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${o} in your .env.vault file.`);throw e.code="NOT_FOUND_DOTENV_ENVIRONMENT",e}return{ciphertext:i,key:n}}function f(e){let t=null;if(e&&e.path&&e.path.length>0)if(Array.isArray(e.path))for(const s of e.path)n.existsSync(s)&&(t=s.endsWith(".vault")?s:`${s}.vault`);else t=e.path.endsWith(".vault")?e.path:`${e.path}.vault`;else t=r.resolve(process.cwd(),".env.vault");return n.existsSync(t)?t:null}function g(e){return"~"===e[0]?r.join(o.homedir(),e.slice(1)):e}const y={configDotenv:function(e){const t=r.resolve(process.cwd(),".env");let s="utf8",o=process.env;e&&null!=e.processEnv&&(o=e.processEnv);let i=u(o.DOTENV_CONFIG_DEBUG||e&&e.debug),a=u(o.DOTENV_CONFIG_QUIET||e&&e.quiet);e&&e.encoding?s=e.encoding:i&&l("No encoding is specified. UTF-8 is used by default");let d,m=[t];if(e&&e.path)if(Array.isArray(e.path)){m=[];for(const t of e.path)m.push(g(t))}else m=[g(e.path)];const p={};for(const t of m)try{const r=y.parse(n.readFileSync(t,{encoding:s}));y.populate(p,r,e)}catch(e){i&&l(`Failed to load ${t} ${e.message}`),d=e}const f=y.populate(o,p,e);if(i=u(o.DOTENV_CONFIG_DEBUG||i),a=u(o.DOTENV_CONFIG_QUIET||a),i||!a){const e=Object.keys(f).length,t=[];for(const e of m)try{const s=r.relative(process.cwd(),e);t.push(s)}catch(t){i&&l(`Failed to load ${e} ${t.message}`),d=t}h(`injecting env (${e}) from ${t.join(",")} ${w=`-- tip: ${c[Math.floor(Math.random()*c.length)]}`,process.stdout.isTTY?`[2m${w}[0m`:w}`)}var w;return d?{parsed:p,error:d}:{parsed:p}},_configVault:function(e){const t=u(process.env.DOTENV_CONFIG_DEBUG||e&&e.debug),s=u(process.env.DOTENV_CONFIG_QUIET||e&&e.quiet);!t&&s||h("Loading env from encrypted .env.vault");const n=y._parseVault(e);let r=process.env;return e&&null!=e.processEnv&&(r=e.processEnv),y.populate(r,n,e),{parsed:n}},_parseVault:function(e){const t=f(e=e||{});e.path=t;const s=y.configDotenv(e);if(!s.parsed){const e=new Error(`MISSING_DATA: Cannot parse ${t} for an unknown reason`);throw e.code="MISSING_DATA",e}const n=m(e).split(","),r=n.length;let o;for(let e=0;e<r;e++)try{const t=p(s,n[e].trim());o=y.decrypt(t.ciphertext,t.key);break}catch(t){if(e+1>=r)throw t}return y.parse(o)},config:function(e){if(0===m(e).length)return y.configDotenv(e);const t=f(e);return t?y._configVault(e):(s=`You set DOTENV_KEY but you are missing a .env.vault file at ${t}. Did you forget to build it?`,console.error(`[dotenv@${a}][WARN] ${s}`),y.configDotenv(e));var s},decrypt:function(e,t){const s=Buffer.from(t.slice(-64),"hex");let n=Buffer.from(e,"base64");const r=n.subarray(0,12),o=n.subarray(-16);n=n.subarray(12,-16);try{const e=i.createDecipheriv("aes-256-gcm",s,r);return e.setAuthTag(o),`${e.update(n)}${e.final()}`}catch(e){const t=e instanceof RangeError,s="Invalid key length"===e.message,n="Unsupported state or unable to authenticate data"===e.message;if(t||s){const e=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw e.code="INVALID_DOTENV_KEY",e}if(n){const e=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw e.code="DECRYPTION_FAILED",e}throw e}},parse:function(e){const t={};let s,n=e.toString();for(n=n.replace(/\r\n?/gm,"\n");null!=(s=d.exec(n));){const e=s[1];let n=s[2]||"";n=n.trim();const r=n[0];n=n.replace(/^(['"`])([\s\S]*)\1$/gm,"$2"),'"'===r&&(n=n.replace(/\\n/g,"\n"),n=n.replace(/\\r/g,"\r")),t[e]=n}return t},populate:function(e,t,s={}){const n=Boolean(s&&s.debug),r=Boolean(s&&s.override),o={};if("object"!=typeof t){const e=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw e.code="OBJECT_REQUIRED",e}for(const s of Object.keys(t))Object.prototype.hasOwnProperty.call(e,s)?(!0===r&&(e[s]=t[s],o[s]=t[s]),n&&l(!0===r?`"${s}" is already defined and WAS overwritten`:`"${s}" is already defined and was NOT overwritten`)):(e[s]=t[s],o[s]=t[s]);return o}};e.exports.configDotenv=y.configDotenv,e.exports._configVault=y._configVault,e.exports._parseVault=y._parseVault,e.exports.config=y.config,e.exports.decrypt=y.decrypt,e.exports.parse=y.parse,e.exports.populate=y.populate,e.exports=y}},t={};function s(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,s),o.exports}const{app:n,BrowserWindow:r,ipcMain:o}=s(157),i=s(928),a=s(299),c=s(735),u=s(769),d=s(672);s(998).config();const{initCronJobs:l}=s(924);let h;function m(){h=new r({width:1920,height:1080,icon:i.join(__dirname,"./assets/onda-logo.ico"),frame:!1,webPreferences:{nodeIntegration:!1,contextIsolation:!0,preload:i.join(__dirname,"preload.bundle.js"),webSecurity:!1}}),console.log("env:","production"),h.loadFile(i.join(__dirname,"./render/build/index.html"))}n.requestSingleInstanceLock()?(n.on("second-instance",()=>{h&&(h.isMinimized()&&h.restore(),h.isVisible()||h.show(),h.focus())}),n.whenReady().then(()=>{m(),a.init(o),c.init(o),d.init(o),u.init(o,h),l()}),n.on("activate",()=>{0===r.getAllWindows().length?m():(h.isMinimized()&&h.restore(),h.isVisible()||h.show(),h.focus())}),n.on("window-all-closed",()=>{"darwin"!==process.platform&&n.quit()})):n.quit()})();