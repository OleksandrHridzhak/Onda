# –¢–µ—Ö–Ω—ñ—á–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è üìã

> –ß–æ–º—É –∑—Ä–æ–±–ª–µ–Ω–æ —Ç–∞–∫, –∞ –Ω–µ —ñ–Ω–∞–∫—à–µ. –©–æ–± —á–µ—Ä–µ–∑ 3 –º—ñ—Å—è—Ü—ñ –Ω–µ –ø–∏—Ç–∞—Ç–∏ —Å–µ–±–µ "wtf?".

## –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è

### Local-first –ø—ñ–¥—Ö—ñ–¥
**–†—ñ—à–µ–Ω–Ω—è:** –í—Å—ñ –¥–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —Å–ø–æ—á–∞—Ç–∫—É –≤ IndexedDB, —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –≤—Ç–æ—Ä–∏–Ω–Ω–∞.

**–ü—Ä–∏—á–∏–Ω–∞:** 
- –ú–∏—Ç—Ç—î–≤–∏–π –≤—ñ–¥–≥—É–∫ UI (–Ω–µ —á–µ–∫–∞—î–º–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä)
- –ü—Ä–∞—Ü—é—î –æ—Ñ–ª–∞–π–Ω
- –ó–º–µ–Ω—à—É—î –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä

**Trade-off:** –°–∫–ª–∞–¥–Ω—ñ—à–∞ –ª–æ–≥—ñ–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó —Ç–∞ conflict resolution.

---

### Electron + Capacitor –¥–ª—è –æ–¥–Ω–æ–≥–æ React –∫–æ–¥—É
**–†—ñ—à–µ–Ω–Ω—è:** –û–¥–∏–Ω React app –ø—Ä–∞—Ü—é—î –≤ Electron (desktop) —Ç–∞ Capacitor (mobile).

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ú–µ–Ω—à–µ –∫–æ–¥—É –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏
- –®–≤–∏–¥—à–∞ —Ä–æ–∑—Ä–æ–±–∫–∞ –Ω–æ–≤–∏—Ö —Ñ—ñ—á –¥–ª—è –æ–±–æ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º

**Trade-off:** –î–µ—è–∫—ñ –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ-—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ —Ö–∞–∫–∏ –ø–æ—Ç—Ä—ñ–±–Ω—ñ.

---

### Last-write-wins –¥–ª—è conflicts
**–†—ñ—à–µ–Ω–Ω—è:** –ü—Ä–∏ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç—ñ –≤–µ—Ä—Å—ñ–π –≤–∏–≥—Ä–∞—î –æ—Å—Ç–∞–Ω–Ω—ñ–π –∑–∞–ø–∏—Å.

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó
- –û–¥–∏–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á = —Ä—ñ–¥–∫–æ —Å–ø—Ä–∞–≤–∂–Ω—ñ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç–∏
- CRDT –∞–±–æ OT –∑–∞–Ω–∞–¥—Ç–æ —Å–∫–ª–∞–¥–Ω—ñ –¥–ª—è —Ü—å–æ–≥–æ –ø—Ä–æ–µ–∫—Ç—É

**Trade-off:** –ú–æ–∂–ª–∏–≤–∞ –≤—Ç—Ä–∞—Ç–∞ –¥–∞–Ω–∏—Ö –ø—Ä–∏ –æ–¥–Ω–æ—á–∞—Å–Ω–æ–º—É —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—ñ –∑ —Ä—ñ–∑–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤.

---

### Secret key –∑–∞–º—ñ—Å—Ç—å user auth
**–†—ñ—à–µ–Ω–Ω—è:** –î–ª—è sync –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Å–µ–∫—Ä–µ—Ç–Ω–∏–π –∫–ª—é—á, –Ω–µ –∞–∫–∞—É–Ω—Ç–∏.

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ü—Ä–æ—Å—Ç—ñ—à–µ –¥–ª—è —Å–æ–ª–æ-–¥–µ–≤–∞ (–Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó)
- –ú–µ–Ω—à–µ —ñ–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∏
- Privacy-friendly

**Trade-off:** –ù–µ–º–∞—î –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—é, —è–∫—â–æ –∫–ª—é—á –≤—Ç—Ä–∞—á–µ–Ω–æ.

---

## –ö–æ–¥–æ–≤—ñ —Ä—ñ—à–µ–Ω–Ω—è

### SyncService —è–∫ singleton
**–†—ñ—à–µ–Ω–Ω—è:** –û–¥–∏–Ω —ñ–Ω—Å—Ç–∞–Ω—Å SyncService –Ω–∞ –≤–µ—Å—å –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫.

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å—Ç–∞–Ω–æ–º —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó
- –£–Ω–∏–∫–Ω–µ–Ω–Ω—è race conditions
- –ü—Ä–æ—Å—Ç—ñ—à–µ debounce —Ç–∞ rate limiting

```typescript
export const syncService = new SyncService();
```

---

### Redux —Ç—ñ–ª—å–∫–∏ –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å—Ç–µ–π—Ç—É
**–†—ñ—à–µ–Ω–Ω—è:** Redux –¥–ª—è theme/pomodoro, –ª–æ–∫–∞–ª—å–Ω–∏–π —Å—Ç–µ–π—Ç –¥–ª—è —ñ–Ω—à–æ–≥–æ.

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ù–µ –≤—Å–µ –º–∞—î –±—É—Ç–∏ –≤ Redux
- –ü—Ä–æ—Å—Ç—ñ—à–µ –¥–µ–±–∞–∂–∏—Ç–∏
- –ú–µ–Ω—à–∏–π boilerplate

---

### IndexedDB wrappers –∑–∞–º—ñ—Å—Ç—å Dexie
**–†—ñ—à–µ–Ω–Ω—è:** –í–ª–∞—Å–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ IndexedDB.

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ü–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å—Ö–µ–º–æ—é
- –ú–µ–Ω—à–µ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
- –î–æ—Å—Ç–∞—Ç–Ω—å–æ –¥–ª—è –ø—Ä–æ—Å—Ç–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π

**Trade-off:** –ë—ñ–ª—å—à–µ –∫–æ–¥—É –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏, –Ω—ñ–∂ –∑ Dexie.

---

## TODO / –ú–æ–∂–ª–∏–≤—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

- [ ] –î–æ–¥–∞—Ç–∏ CRDT –¥–ª—è –∫—Ä–∞—â–æ–≥–æ merge
- [ ] Offline queue –¥–ª—è sync –æ–ø–µ—Ä–∞—Ü—ñ–π
- [ ] E2E —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö
- [ ] Migration scripts –¥–ª—è IndexedDB schema changes
